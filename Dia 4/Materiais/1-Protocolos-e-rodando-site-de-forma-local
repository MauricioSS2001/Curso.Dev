# Protocolos e rodando o site de forma local

√â uma **honra** ter uma aula como esta aqui na plataforma, pois ela ir√° fazer voc√™ **notar** a internet de uma forma **diferente**, pois voc√™ vai come√ßar a **ver** e **entender** Protocolos, que s√£o a base de toda a comunica√ß√£o que acontece entre um **Cliente** e **Servidor**, desde o seu navegador ao saber se comunicar por `HTTP`, at√© a sua rede que sabe se comunicar por `TCP` atrav√©s do `IP`. Al√©m disso, a miss√£o desta aula √© levantar o **Servidor Web**... ser√° que vamos conseguir?

V√≠deo do UDP vs TCP: [https://youtu.be/ZEEBsq3eQmg](https://youtu.be/ZEEBsq3eQmg)

## Perguntas frequentes

O erro "Couldn't find a `pages` directory" est√° correto?  

Sim, este √© o erro esperado nesta aula! Neste momento do curso, ainda n√£o criamos a pasta `pages`, ent√£o o Next.js n√£o consegue encontrar os arquivos necess√°rios para iniciar a aplica√ß√£o. Isso ser√° resolvido nas pr√≥ximas aulas.

**Observa√ß√£o:** Dependendo da vers√£o do Next.js que voc√™ estiver usando, a mensagem pode variar um pouco. Desde a vers√£o 14, a mensagem j√° aparece mais clara:

    Error: > Couldn't find any `pages` or `app` directory. Please create one under the project root
    

Lembrando que a recomenda√ß√£o √© que voc√™ _utilize a mesma vers√£o do Next que o Filipe mostra na aula para evitar qualquer tipo de atrito_, especialmente se voc√™ for iniciante. ü§ù

* * *

Por que o comando `next dev` n√£o funciona direto no terminal? Por que preciso criar o script no `package.json`?  

N√≥s s√≥ conseguimos rodar um comando diretamente no terminal se a instala√ß√£o dele for **global**. E isso independentemente de qual pasta n√≥s estivermos navegando.

Quando o Filipe disse "local a esse projeto", ele quer dizer exatamente isso: o Next.js foi instalado apenas dentro da pasta daquele projeto espec√≠fico. Isso significa que as depend√™ncias ficam salvas no arquivo `package.json` e na pasta `node_modules` do projeto.

**Instala√ß√£o local vs global:**

-   **Local (recomendado):** O Next est√° instalado na m√°quina, s√≥ que _localmente_, somente no reposit√≥rio. Se voc√™ criar outro reposit√≥rio, n√£o conseguir√° usar o Next.js sem instal√°-lo novamente nesse novo projeto. Essa √© a forma recomendada porque cada projeto pode ter suas pr√≥prias vers√µes das depend√™ncias.
    
-   **Global:** Voc√™ instalaria o Next.js na m√°quina inteira usando `npm install -g next`, e ele ficaria dispon√≠vel para todos os projetos. Por√©m, isso n√£o √© recomendado porque diferentes projetos podem precisar de vers√µes diferentes do Next.js, e isso pode gerar conflitos.
    

Por isso, criamos o script no `package.json`, e quando executamos `npm run dev`, o npm sabe onde encontrar o execut√°vel do Next dentro da pasta `node_modules`. ü§ù

* * *

Estou recebendo um erro diferente do esperado ao rodar `npm run dev`. O que pode ser?  

Verifique se h√° algum erro de digita√ß√£o no seu arquivo `package.json`. Erros comuns incluem:

**1\. Comando digitado errado:**

Onde deveria estar `"next dev"`, pode estar escrito `"ext dev"` (faltando o "n"):

    // ‚ùå Errado
    "scripts": {
      "dev": "ext dev"
    }
    
    // ‚úÖ Correto
    "scripts": {
      "dev": "next dev"
    }
    

**2\. Falta de espa√ßo ap√≥s os dois pontos:**

    // ‚ùå Errado
    "dev":"next dev"
    
    // ‚úÖ Correto
    "dev": "next dev"
    

Ap√≥s corrigir, tente executar `npm run dev` novamente. üí™

* * *

Estou usando WSL e o projeto n√£o est√° funcionando corretamente. O que fazer?  

Se voc√™ est√° utilizando o WSL, mas o seu projeto est√° salvo em uma pasta no sistema de arquivos do Windows (por exemplo, `/mnt/c/...`), o ideal √© que ele esteja salvo **dentro da sua distribui√ß√£o Linux no WSL**.

N√£o √© recomendado trabalhar cruzando os sistemas de arquivos do WSL e do Windows, por conta de problemas de performance. Voc√™ pode conferir mais detalhes sobre isso na [documenta√ß√£o oficial da Microsoft](https://learn.microsoft.com/pt-br/windows/wsl/filesystems#file-storage-and-performance-across-file-systems).

Portanto, o melhor a se fazer √© salvar o seu projeto dentro do WSL, usando o diret√≥rio raiz do sistema de arquivos do Linux:

    /home/<seu-usuario>/meu-projeto
    

**Para abrir o VS Code no diret√≥rio correto:**

Se voc√™ j√° copiou o projeto para dentro do WSL, para o terminal do VS Code abrir dentro do WSL, voc√™ precisa:

1.  Abrir o terminal do Linux no WSL
2.  Navegar para dentro da pasta do projeto no WSL
3.  Executar o comando `code .`